{% extends 'base.html' %}
{% block extrastyle %}
{% endblock %}
{%block title%} OCSSC | User | Home {%endblock%}
    <!-- /.content -->
{%block content%}

    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">List of Users</h1>
          </div><!-- /.col -->
          
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    
    <!-- /.content -->

    <!---------->
        <section class="content">
          <div class="container-fluid">
                <div class="row">
                  <div class="col-lg-12">
                   <div class="card">
                      <div class="card-header">
                            <div class="header-elements" align="left">
                            <a href="{% url 'account_create' %}" class="btn btn-success">Add a User</a> 
                            
                            </div>
                        </div>

                
                <!-- /.card-header -->
                      <div class="card-body">
                        <table id="example1" class="table table-bordered table-striped">

                          

                          <thead>
                          <tr>
                            <th>name</th>
                            <th>Active</th>
                            <th>city</th>
                            <th>office_branch</th>
                            <th>User Type</th>

                            <th>Date of hire</th>  
                            <th>Edit</th>
                            <th>Details</th>
                            <th>Suspend</th>
                            <th>Delete</th>
                          </tr>
                          </thead>

                          <tbody>
                            {%for form in accounts%}
                          <tr>
                            <th>{{form.first_name}} {{form.last_name}}</th>
                            <th>{{form.active}}</th>
                            <th>{{form.city}}</th>

                            <th>{{form.office_branch}}</th>

                            {%if form.is_manager == True%}
                            <th>Manager</th>
                            
                            {%elif form.is_auditor == True%}
                            <th>Auditor</th>
                            
                            {%elif form.is_customer_service == True%}
                            <th>Customer Service</th>
                            
                            {%elif form.is_system_admin == True%}
                            <th>System Admin</th>

                            {%else%}
                            <th>-</th>
                            {%endif%}


                            <th>{{form.date_of_hire}}</th>
                            
                            <td>
                              <a href="{% url 'account_edit' id=form.id %}" type="button" class="btn btn-block btn-outline-primary btn-sm">Edit</a>
                            </td>
                            {%if form.active%}
                            <td>
                            <a href="{% url 'account_suspend' id=form.id %}" type="button" class="btn btn-block btn-outline-info btn-sm">Suspend</a>
                            </td>
                            {%else%}
                            <td>
                            <a href="{% url 'account_suspend' id=form.id %}" type="button" class="btn btn-block btn-outline-warning btn-sm">Unsuspend</a>
                            </td>
                            {%endif%}

                            <td>
                            <a href="{% url 'account_detail' id=form.id %}" type="button" class="btn btn-block btn-outline-secondary btn-sm">Detail</a>
                          </td>
                            
                            <td>
                              <a href="{% url 'account_delete' id=form.id%}" type="button" onclick="return confirm ('Are you sure you want to delete this ?')" class="btn btn-block btn-outline-danger btn-sm">Delete</a>
                            </td>

                          </tr>
                            {%endfor%}
                        
                          </tbody>
                          <tfoot>
                          <tr>
                             <th>name</th>
                             <th>Active</th>
                            <th>city</th>
                            <th>office_branch</th>
                            <th>User Type</th>

                            <th>Date of hire</th>  
                            <th>Edit</th>
                            <th>Details</th>
                            <th>Suspend</th>
                            <th>Delete</th>
                          </tr>
                          </tfoot>
                        </table>
                      </div>
                <!-- /.card-body -->
                      </div>
                    </div>
                  </div>
          </div>
        </section>

{%endblock%}
